
<style>
.fab {
   width: 70px;
   height: 70px;
   border-radius: 50%;
   transition: all 0.1s ease-in-out;
 
   font-size: 50px;
   color: white;
   text-align: center;
   line-height: 70px;
 
   position: fixed;
   right: 120px;
   bottom: 120px;
}
 
.fab:hover {
   transform: scale(1.05);
}

.fab:active {
   transform: translateY(4px);
}
</style>

{% load static %}

<div class="fab"><img src="{% static 'images/emg.png' %}" id="btn_emergency_stop"></div>

<script type="text/javascript">

   /* emergency on*/
   function mqtt_command_emergency(){
     if(mqtt_connected){
       mqtt_client.publish("mex/plc/ctrl", JSON.stringify({"command":"motor_off"}), 2);
       mqtt_client.publish("mex/relay/ctrl", JSON.stringify({"p1":0}), 2);
     }
   }
   
   
   /* emergency stop */
   $('#btn_emergency_stop').click(function() {
      mqtt_command_emergency();
   });
   
   
   </script>