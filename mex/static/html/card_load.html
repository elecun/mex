<div id="setting_list"></div>

<script type="text/javascript">
    function load(){
        var MyDateField = function(config) {
            jsGrid.Field.call(this, config);
        };
    
        var commandlist = function(config){
            jsGrid.Field.call(this, config);
        }
    
        commandlist.prototype = new jsGrid.Field({
            sorter: function(date1, date2) {
                return new Date(date1) - new Date(date2);
            },
    
            itemTemplate: function(value) {
                return new Date(value).toDateString();
            },
    
            // insertTemplate: function(value) {
            //     return this._insertPicker = $("<input>").datepicker({ defaultDate: new Date() });
            // },
    
            // editTemplate: function(value) {
            //     return this._editPicker = $("<input>").datepicker().datepicker("setDate", new Date(value));
            // },
    
            insertValue: function() {
                return this._insertPicker.datepicker("getDate").toISOString();
            },
    
            editValue: function() {
                return this._editPicker.datepicker("getDate").toISOString();
            }
        });
    
        MyDateField.prototype = new jsGrid.Field({
            sorter: function(date1, date2) {
                return new Date(date1) - new Date(date2);
            },
    
            itemTemplate: function(value) {
                return new Date(value).toDateString();
            },
    
            // insertTemplate: function(value) {
            //     return this._insertPicker = $("<input>").datepicker({ defaultDate: new Date() });
            // },
    
            // editTemplate: function(value) {
            //     return this._editPicker = $("<input>").datepicker().datepicker("setDate", new Date(value));
            // },
    
            insertValue: function() {
                return this._insertPicker.datepicker("getDate").toISOString();
            },
    
            editValue: function() {
                return this._editPicker.datepicker("getDate").toISOString();
            }
        });
    
        jsGrid.fields.myDateField = MyDateField;
        jsGrid.fields.mex_command = commandlist;
    
        $("#jsGrid").jsGrid({
            height: "330px",
            width: "100%",
    
            inserting: true,
            editing: true,
            sorting: true,
            paging: false,
    
            data: db.users,
    
            fields: [
                { name: "Step", width: 30, align: "center" },
                { name: "Command", type: "mex_command", align:"center"},
                { name: "시간(sec)", type: "text", align: "center" },
                { type: "속도(rpm)", type:"text", align:"center" },
                { type: "측면하중(ON/OFF)", type:"text", align:"center" },
                { type: "가감속시간(rpm/sec)", type:"text", align:"center" },
                { type: "control", editButton: false, modeSwitchButton: false }
            ]
        });
    
    }
    
    
    
    
    // $(function () {
    
    //     $("#programtable").jsGrid({
    //         height: "100%",
    //         width: "100%",
    
    //         filtering: false,
    //         editing: true,
    //         sorting: true,
    //         paging: false,
    //         autoload: true,
    //         deleteConfirm: function(item) {
    //             return "The client \"" + item.Name + "\" will be removed. Are you sure?";
    //         },
    //         rowClick: function(args) {
    //             showDetailsDialog("Edit", args.item);
    //         },
    
    //         // controller: {
    //         //     loadData: function() {
    //         //         var d = $.Deferred();
     
    //         //         $.ajax({
    //         //             url: "http://services.odata.org/V3/(S(3mnweai3qldmghnzfshavfok))/OData/OData.svc/Products",
    //         //             dataType: "json"
    //         //         }).done(function(response) {
    //         //             d.resolve(response.value);
    //         //         });
     
    //         //         return d.promise();
    //         //     }
    //         // },
            // controller : {
            //     loadData : function(){
            //         var d = $.Deferred();
            //         let data = {
            //             "Step": 1,
            //             //"Command": 1,
            //             "Time(s)": 6,
            //             "Speed": 1,
            //             "Load": 1,
            //             "Acc/Dev": 1
            //         };
            //         var jdata = JSON.stringify(data);
            //         console.log(jdata);
            //         d.resolve(jdata);
            //         return jdata;
            //     }
            // },
    
            // fields: [
            //     { name: "Step", type: "number", width: 50 },
            //     //{ name: "Command", type: "select", items: db.command, valueField: "id", textField: "name" },
            //     { name: "Time(s)", type: "number" },
            //     { name: "Speed", type: "number" },
            //     { name: "Load", type: "number" },
            //     { name: "Acc/Dec", type: "number" },
            //     {
            //         type: "control",
            //         modeSwitchButton: false,
            //         editButton: false
            //         // headerTemplate: function() {
            //         //     return $("<button>").attr("type", "button").text("Add")
            //         //             .on("click", function () {
            //         //                 showDetailsDialog("Add", {});
            //         //             });
            //         // }
            //     }
            // ]
    //     });
    //   });
      
        /* page load */
    window.addEventListener('DOMContentLoaded', function(){
        load();
    });
    
    // $("#jsGrid").jsGrid({
    //      height: "90%",
    //      width: "100%",
    
    //      filtering: true,
    //      editing: true,
    //      sorting: true,
    //      paging: true,
    //      autoload: true,
    
    //      pageSize: 15,
    //      pageButtonCount: 5,
    
    //      deleteConfirm: "Do you really want to delete the client?",
    
    //      controller: db,
    
    //      fields: [
    //          { name: "Name", type: "text", width: 150 },
    //          { name: "Age", type: "number", width: 50 },
    //          { name: "Address", type: "text", width: 200 },
    //          { name: "Country", type: "select", items: db.countries, valueField: "Id", textField: "Name" },
    //          { name: "Married", type: "checkbox", title: "Is Married", sorting: false },
    //          { type: "control" }
    //      ]
    //  });
    
    </script>
    