

<div class="card card-lightblue shadow catd-tabs" style="height: 445px;">
    <div class="card-header p-0 pt-1 border-bottom-0">
      <ul class="nav nav-tabs" id="custom-tabs-four-tab" role="tablist">
        <!-- status tab title & link -->
        <li class="nav-item">
            <a class="nav-link active" id="tab_status_current_link" data-toggle="pill" href="#tab_status_current" role="tab" aria-controls="tab_status" aria-selected="true">
              <i class="fas fa-list"></i> {{menu_ko.status_current}}
            </a>
        </li>

        <!-- status manual control tab title & link -->
        <li class="nav-item">
          <a class="nav-link" id="tab_status_manual_control_link" data-toggle="pill" href="#tab_status_manual_control" role="tab" aria-controls="tab_status_manual_control" aria-selected="false">
            <i class="fas fa-user-cog"></i> {{menu_ko.status_manual_control}}
          </a>
        </li>

    </ul>
    </div>

    <div class="card-body">

      <div class="tab-content" id="custom-tabs-four-tabContent">
        <div class="tab-pane show active" id="tab_status_current" role="tabpanel" aria-labelledby="custom-tabs-four-profile-tab">
            {% include 'card_status_current.html' %}
        </div>
        <div class="tab-pane" id="tab_status_manual_control" role="tabpanel">
            {% include 'card_status_manual_control.html' %}
        </div>
      </div>

    </div>
</div>


<script>

  /* tab event for side menu display control */
  $('a[data-toggle="pill"]').on('shown.bs.tab', function (e) {
      var target = $(e.target).attr("href");
      switch(target){
          /* settings general tab activated */
          case "#tab_status_current": {
              $('#btn_rotate_forward').addClass("d-none");
              $('#btn_rotate_reverse').addClass("d-none");
              $('#btn_rotate_stop').addClass("d-none");
              $('#btn_motor_onoff').addClass("d-none");
              $('#btn_sideload_onoff').addClass("d-none");
          } break;
          /* settings details tab activated */
          case "#tab_status_manual_control": {
              $('#btn_rotate_forward').removeClass("d-none");
              $('#btn_rotate_reverse').removeClass("d-none");
              $('#btn_rotate_stop').removeClass("d-none");
              $('#btn_motor_onoff').removeClass("d-none");
              $('#btn_sideload_onoff').removeClass("d-none");
          } break;
      }
  });

  /* page load */
  window.addEventListener('DOMContentLoaded', function(){
      /* initially hide menu */
      $('#btn_rotate_forward').addClass("d-none");
      $('#btn_rotate_reverse').addClass("d-none");
      $('#btn_rotate_stop').addClass("d-none");
      $('#btn_motor_onoff').addClass("d-none");
      $('#btn_sideload_onoff').addClass("d-none");
      //load();
  });




  $(function($) {

      $(".knob").knob({
          change : function (value) {
              //console.log("change : " + value);
          },
          release : function (value) {
              //console.log(this.$.attr('value'));
              console.log("release : " + value);
          },
          cancel : function () {
              console.log("cancel : ", this);
          },
          /*format : function (value) {
           return value + '%';
           },*/
          draw : function () {

              // "tron" case
              if(this.$.data('skin') == 'tron') {

                  this.cursorExt = 0.3;

                  var a = this.arc(this.cv)  // Arc
                          , pa                   // Previous arc
                          , r = 1;

                  this.g.lineWidth = this.lineWidth;

                  if (this.o.displayPrevious) {
                      pa = this.arc(this.v);
                      this.g.beginPath();
                      this.g.strokeStyle = this.pColor;
                      this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, pa.s, pa.e, pa.d);
                      this.g.stroke();
                  }

                  this.g.beginPath();
                  this.g.strokeStyle = r ? this.o.fgColor : this.fgColor ;
                  this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, a.s, a.e, a.d);
                  this.g.stroke();

                  this.g.lineWidth = 2;
                  this.g.beginPath();
                  this.g.strokeStyle = this.o.fgColor;
                  this.g.arc( this.xy, this.xy, this.radius - this.lineWidth + 1 + this.lineWidth * 2 / 3, 0, 2 * Math.PI, false);
                  this.g.stroke();

                  return false;
              }
          }
      });

      // Example of infinite knob, iPod click wheel
      var v, up=0,down=0,i=0
              ,$idir = $("div.idir")
              ,$ival = $("div.ival")
              ,incr = function() { i++; $idir.show().html("+").fadeOut(); $ival.html(i); }
              ,decr = function() { i--; $idir.show().html("-").fadeOut(); $ival.html(i); };
      $("input.infinite").knob(
              {
                  min : 0
                  , max : 20
                  , stopper : false
                  , change : function () {
                  if(v > this.cv){
                      if(up){
                          decr();
                          up=0;
                      }else{up=1;down=0;}
                  } else {
                      if(v < this.cv){
                          if(down){
                              incr();
                              down=0;
                          }else{down=1;up=0;}
                      }
                  }
                  v = this.cv;
              }
              });
  });
</script>

